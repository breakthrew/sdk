/**
 * Generated by createManifest.js
 * DO NOT directly edit this file !!!!!!
 */
import op from 'object-path';
import { isBrowserWindow } from '@atomic-reactor/reactium-sdk-core';

const deps = {};
const reqs = {
{{#each types}}
    '{{name}}': {
        {{#each domains}}
            '{{domain}}': {
                req: () => require('{{file}}').default,
                file: '{{file}}',
            },
        {{/each}}
    },
{{/each}}
};

const manifest = {
    get: () => {
        for (const [name, domains] of Object.entries(reqs)) {
            for (const [domain, item] of Object.entries(domains)) {
                try {
                    op.set(deps, [name, domain], item.req());
                } catch (error) {
                    const where = isBrowserWindow() ? ' in browser ' : ' on server ';
                    console.error(`Error loading manifest resource "${item.file}" of type ${name} from domain ${domain}${where}`, error);
                }
            }
        }

        return deps;
    },
    contexts: {
        {{#each contexts}}
        '{{context}}': isBrowserWindow() && require.context('{{modulePath}}', true, /{{filePattern}}/, '{{mode}}'),
        {{/each}}
    },
    externals: () => {
        if (isBrowserWindow()) {
            {{#each externals}}
            window['{{externalName}}'] = require('{{requirePath}}');
            {{/each}}
            {{#each externalAliases}}
            window['{{defaultAlias}}'] = window['{{externalName}}'];
            {{/each}}
        }
    },
    listContexts: () => {
        return {{{contextObj}}}
    },
    list: () => {
        return {{{manifest}}};
    },
}

export default manifest;
